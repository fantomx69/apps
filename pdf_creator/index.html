<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creatore di PDF</title>
    
    <!-- Tailwind CSS per uno stile moderno e pulito -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Quill.js - Libreria per l'editor di testo -->
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.snow.css" rel="stylesheet">
    
    <!-- Font di Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-100 dark:bg-gray-900 flex items-center justify-center min-h-screen p-4 sm:p-6">
    
    <main class="bg-white dark:bg-gray-800 w-full max-w-4xl p-6 sm:p-8 rounded-xl shadow-2xl">
        <header class="mb-6 text-center">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-800 dark:text-white">
                <a href="../index.html" class="home-btn"></a>
                Crea il tuo PDF
            </h1>
        </header>

        <!-- Bottoni per firma e caricamento PDF -->
        <div class="mb-4 flex justify-center space-x-4">
            <button id="toggle-signature-btn" class="bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg shadow-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500">
                üìù Mostra Firma
            </button>
            <label for="pdf-file-input" class="bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg shadow-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer">
                üìÅ Carica PDF
            </label>
            <input type="file" id="pdf-file-input" accept="application/pdf" class="hidden">
        </div>

        <!-- Contenitore per l'editor Quill -->
        <div id="editor-container" class="mb-6">
            <div id="editor">
                <!-- Il contenuto dell'editor apparir√† qui -->
            </div>
        </div>

        <!-- Sezione Firma (inizialmente nascosta) -->
        <div id="signature-section" class="signature-section bg-gray-50 dark:bg-gray-700 p-6 rounded-lg">
            <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4 text-center">Firma Autografa</h3>
            <div class="flex flex-col items-center space-y-4">
                <canvas id="signature-pad" width="400" height="150" class="shadow-md"></canvas>
                <div class="flex space-x-3">
                    <button id="save-signature-btn" class="bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg shadow-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500">
                        ‚úì Salva Firma
                    </button>
                    <button id="clear-signature-btn" class="bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg shadow-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500">
                        üóëÔ∏è Cancella Firma
                    </button>
                </div>
                <div id="signature-status" class="text-sm text-gray-600 dark:text-gray-300"></div>
            </div>
        </div>

        <!-- Bottone di esportazione -->
        <div class="text-center">  
            <button id="export-pdf-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800">
                Esporta in PDF
            </button>
        </div>
    </main>

    <!-- Librerie JavaScript -->
    <!-- Quill.js -->
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.js"></script>
    <!-- jsPDF per creare il PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- html2canvas per "fotografare" il contenuto dell'editor -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <script src="https://unpkg.com/pdfjs-dist/build/pdf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.6/dist/signature_pad.umd.min.js"></script>
    
    <script src="app.js"></script>
    
</body>
</html>